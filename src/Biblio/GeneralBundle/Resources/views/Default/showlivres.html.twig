{% extends '::base.html.twig' %}
{% block title %}Liste des Livres{% endblock %}
{% block body %}

<table class="table table-striped table-hover">
	<thead>
		<tr>
			<th>##</th>
			<th>Titre</th>
			<th>Auteur(s)</th>
			<th>Année</th>
			<th>Type de livre</th>
			<th>Résumé</th>
			<th>Modifier</th>
			<th>Supprimer</th>
		</tr>
	</thead>
	<tbody>
		{% if listLivres is not empty %}
			{% for livre in listLivres %}
				<tr>
					<th><a href="{{ path('biblio_general_showlivre',{ 'id':livre.id }) }}}">{{ livre.id }}</a></th>
					<td>{{ livre.titre }}</td>
					<td>
{% if livre.auteurs is not empty %}
    {% for auteur in livre.auteurs %}
      {{ auteur.prenom }} {{ auteur.nom }}{% if not loop.last %}, {% endif %}
    {% endfor %}
{% endif %}
					</td>
					<td>{{ livre.annee }}</td>
					<td>{{ livre.typeLivre.libelle }}</td>
					<td>{{ livre.resume | slice(0, 50) }}</td>
					<th><a href="{{ path('biblio_general_editlivre',{ 'id':livre.id }) }}}">Editer</a></th>
					<th><a href="{{ path('biblio_general_deletelivre',{ 'id':livre.id }) }}}">Supprimer</a></th>
				</tr>
			{% endfor %}
		{% endif %}
	</tbody>
</table>

{% endblock %}